<!-- ProgramEngine - Program Edit -->
<div data-role="page" id="page_automation_editprogram">

    {include pages/header.html}

    <img src="images/program.png" style="position:absolute;top:48px;left:20px;" width="64" />
    <div style="position:absolute;font-size:10pt;top:40px;left:100px"><h3 id="page_automation_program_title"></h3></div>



    <div data-role="navbar" style="position:absolute;top:115px;width:400px;margin-left:20px">
        <ul>
          <li><a id="program_edit_tab1_button" style="border-top-left-radius: 16px;border-top-right-radius: 16px;border-bottom:0px;" href="#" onclick="HG.WebApp.ProgramEdit.SetTab(1)" data-ajax="false">Summary</a></li>
          <li><a id="program_edit_tab2_button" style="border-top-left-radius: 16px;border-top-right-radius: 16px;border-bottom:0px;" href="#" onclick="HG.WebApp.ProgramEdit.SetTab(2)" data-ajax="false">Program Code</a></li>
          <li><a id="program_edit_tab3_button" style="border-top-left-radius: 16px;border-top-right-radius: 16px;border-bottom:0px;" href="#" onclick="HG.WebApp.ProgramEdit.SetTab(3)" data-ajax="false">Trigger Code</a></li>
        </ul>
    </div>
    <div class="ui-content ui-btn ui-btn-active ui-corner-all" style="cursor:default;text-align:left;position:absolute;border-top:0px;padding:10px;bottom:30px;top:150px;left:0px;right:0px;margin:0;padding-top:0;overflow-x:hidden;overflow-y:auto" data-theme="d">

        <div id="program_edit_tab1">

			<div style="border:1px solid black;position:absolute;top:15px;left:15px;right:15px;bottom:15px;overflow-y:auto;padding:15px;" class="ui-body-inherit">
				
		            <label data-locale-id="configure_program_programname" for="automation_programname">Program Name</label>
	                <input id="automation_programname" type="text" />

	                <br clear="all" />

		            <label data-locale-id="configure_program_programdescription" for="automation_programdescription">Program Description</label>
	                <textarea id="automation_programdescription" cols="40" rows="3"></textarea>

	                <br clear="all" />

	                <div class="ui-grid-a">
	                    <div class="ui-block-a">
				            <label data-locale-id="configure_program_programtype" for="automation_programtype">Program Type</label>
	                        <select id="automation_programtype" onchange="HG.WebApp.ProgramsList.ChangeProgramType(this.value)">
	                            <option _data-locale-id="configure_program_typewizard" value="Wizard">Wizard Script</option>
	                            <option _data-locale-id="configure_program_typecsharp" value="CSharp">C# Program</option>
	                            <option _data-locale-id="configure_program_typecsharp" value="Javascript">Javascript Script</option>
	                            <option _data-locale-id="configure_program_typecsharp" value="Python">Python Script</option>
	                            <option _data-locale-id="configure_program_typecsharp" value="Ruby">Ruby Script</option>
	                        </select>
	                    </div>
	                    <div class="ui-block-b">
				            <label data-locale-id="configure_program_programgroup" for="automation_programgroup">Program Group</label>
			                <select id="automation_programgroup"></select>
	                    </div>
	                </div>

			</div>

        </div>



        <div id="program_edit_tab2" style="display:none">

	        <div data-block-id="configure_program_editfortypecsharp" style="display:none">
	        	
	        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="top:4px;left:4px;position:absolute;margin:0" data-theme="e">
		        	<a id="configure_program_editorcompilecode" class="ui-btn ui-btn-icon-left ui-icon-check" href="#">Compile</a>
		        	<!--a id="configure_program_editorruncode" class="ui-btn ui-btn-icon-left ui-icon-arrow-r" href="#">Run</a -->
	        	</div>
	        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="top:4px;right:84px;position:absolute;margin:0" data-theme="f">
		        	<a id="program_error_button" class="ui-btn ui-corner-all ui-btn-icon-left ui-icon-alert" href="#">Errors</a>
	        	</div>
	        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="top:4px;right:4px;position:absolute;margin:0" data-theme="e">
		        	<a class="ui-btn ui-btn-icon-left ui-icon-info" href="http://www.homegenie.it/docs/" target="_blank">Help</a>
	        	</div>

				<textarea id="automation_program_scriptsource" onkeydown="if (event.which == 9) { pasteIntoInput(this, '\t'); return false; }" spellcheck="false" style="postion:absolute;width:100%;height:100%"></textarea>

	        </div>



	        <div data-block-id="configure_program_editfortypewizard" style="display:none;">
	        
	        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="position:fixed;top:4px;left:4px;position:absolute;margin:0" data-theme="e">
		        	<a href="#" onclick="automationpage_WizardCommandAdd();" class="ui-btn ui-btn-icon-left ui-icon-plus" href="#">Add command</a>
		        	<a href="#automation_capture_command_popup" data-rel="popup" class="ui-btn ui-btn-icon-left ui-icon-eye" href="#">Capture</a>
	        	</div>
	        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="top:4px;right:4px;position:absolute;margin:0" data-theme="e">
		        	<a class="ui-btn ui-btn-icon-left ui-icon-info" href="http://www.homegenie.it/docs/" target="_blank">Help</a>
	        	</div>

				<div style="border:1px solid white;position:absolute;top:45px;left:5px;right:5px;bottom:11px;overflow-y:auto;" class="ui-body-inherit">
				
		            <ul id="automation_program_instructions" style="margin:0;padding:0" data-split-icon="delete" data-role="listview" data-inset="true"></ul>
		            				
				</div>

	        </div>


        </div>



		<div id="program_edit_tab3" style="display:none">

        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="top:4px;left:4px;position:absolute;margin:0" data-theme="e">
	        	<a id="configure_program_editorcompilecode2" class="ui-btn ui-btn-icon-left ui-icon-check" href="#">Compile</a>
        	</div>
    		<label data-locale-id="configure_program_triggertype" for="automation_conditiontype" style="top:14px;left:250px;position:absolute;margin:0">Trigger</label>
        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="top:4px;left:302px;position:absolute;margin:0" data-theme="e">
                <select id="automation_conditiontype">
                    <option data-locale-id="configure_program_conditionswitchestrue" value="OnSwitchTrue">when condition evaluation switches to 'true'</option>
                    <option data-locale-id="configure_program_conditionswitchesfalse" value="OnSwitchFalse">when condition evaluation switches to 'false'</option>
                    <option data-locale-id="configure_program_runonceconditiontrue" value="Once">run once, when condition evaluation returns 'true'</option>
                    <option data-locale-id="configure_program_conditionistrue" value="OnTrue">when condition evaluation returns 'true'</option>
                    <option data-locale-id="configure_program_conditionisfalse" value="OnFalse">when condition evaluation returns 'false'</option>
                </select>
        	</div>
        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="top:4px;right:84px;position:absolute;margin:0" data-theme="f">
	        	<a id="program_error_button2" class="ui-btn ui-corner-all ui-btn-icon-left ui-icon-alert" href="#">Errors</a>
        	</div>
        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="top:4px;right:4px;position:absolute;margin:0" data-theme="e">
	        	<a class="ui-btn ui-btn-icon-left ui-icon-info" href="http://www.homegenie.it/docs/" target="_blank">Help</a>
        	</div>

	        <div data-block-id="configure_program_editfortypecsharp" style="display:none">

			    <textarea id="automation_program_scriptcondition" onkeydown="if (event.which == 9) { pasteIntoInput(this, '\t'); return false; }" spellcheck="false"></textarea>

	        </div>

	        <div data-block-id="configure_program_editfortypewizard" style="display:none;">

	        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="position:fixed;top:4px;left:4px;position:absolute;margin:0" data-theme="e">
		        	<a href="#" onclick="automationpage_WizardConditionAdd();" class="ui-btn ui-btn-icon-left ui-icon-plus" href="#">Add condition</a>
		        	<a href="#automation_capture_condition_popup" data-rel="popup" class="ui-btn ui-btn-icon-left ui-icon-eye" href="#">Capture</a>
	        	</div>
	        	<div data-role="controlgroup" data-type="horizontal" data-mini="true" style="top:4px;right:4px;position:absolute;margin:0" data-theme="e">
		        	<a class="ui-btn ui-btn-icon-left ui-icon-info" href="http://www.homegenie.it/docs/" target="_blank">Help</a>
	        	</div>

				<div style="border:1px solid white;position:absolute;top:45px;left:5px;right:5px;bottom:11px;overflow-y:auto;" class="ui-body-inherit">
				
		            <ul id="automation_program_conditions" style="margin:0;padding:0" data-split-icon="delete" data-role="listview" data-inset="false"></ul>
		            				
				</div>

	        </div>


        </div>




    </div>

    {include pages/configure/programengine/commandwizard.html}
    {include pages/configure/programengine/conditionwizard.html}

    <div id="automation_program_switchtype" class="ui-corner-all" data-role="popup" data-overlay-theme="b">
        <div data-role="header" class="ui-corner-top">
            <h1 data-locale-id="configure_program_switchtypetitle">Change Type?</h1>
        </div>
        <div class="ui-content ui-corner-bottom">
            <h3 data-locale-id="configure_program_switchtypeprompt" class="ui-title">Are you sure you want to change program type?</h3>
            <p data-locale-id="configure_program_switchtypeadvice">Current program data will be cleared.</p>
            <div class="ui-grid-a">
            	<div class="ui-block-a">
		            <a data-locale-id="configure_program_switchtypecancel" id="program_switchtypecancel_button" class="ui-btn ui-corner-all" data-inline="true" data-rel="back">Cancel</a>
            	</div>
				<div class="ui-block-b">
		            <a data-locale-id="configure_program_switchtypeconfirm" id="program_switchtype_button" href="#" class="ui-btn ui-corner-all" data-inline="true" data-rel="back" data-transition="flow">Change</a>
				</div>
            </div>
        </div>
    </div>




    <div id="automation_program_delete" class="ui-corner-all" data-role="popup" data-overlay-theme="b">
        <div data-role="header" class="ui-corner-top">
            <h1 data-locale-id="configure_program_deletetitle">Delete Program?</h1>
        </div>
        <div class="ui-content ui-corner-bottom">
            <h3 data-locale-id="configure_program_deleteprompt" class="ui-title">Are you sure you want to delete this program?</h3>
            <p data-locale-id="configure_program_deleteadvice">This action cannot be undone.</p>
            <div class="ui-grid-a">
            	<div class="ui-block-a">
		            <a href="#" class="ui-btn ui-corner-all" data-locale-id="configure_program_deletecancel" data-inline="true" data-rel="back">Cancel</a>
            	</div>
				<div class="ui-block-b">
		            <a id="program_delete_button" href="#" class="ui-btn ui-corner-all" data-locale-id="configure_program_deleteconfirm" data-inline="true" data-rel="back" data-transition="flow">Delete</a>
				</div>
            </div>
        </div>
    </div>




    <div id="editprograms_actionmenu" data-role="popup" data-overlay-theme="b">
        <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-delete ui-btn-icon-notext ui-btn-right">Close</a>
        <h5 align="center">Actions Menu</h5>
        <ul data-role="listview" data-inset="false" style="min-width:210px;">
            <li><a id="automation_program_delete_button" class="ui-btn ui-icon-minus ui-btn-icon-right" data-position-to="window" data-transition="pop">Delete program</a></li>
            <li id="editprograms_actionmenu_run"><a class="ui-btn ui-icon-gear ui-btn-icon-right" data-locale-id="configure_program_options_run" href="javascript:HG.WebApp.ProgramEdit.CheckAndRunProgram(HG.WebApp.ProgramEdit._CurrentProgram);history.back();">Run</a></li>
            <li id="editprograms_actionmenu_break"><a class="ui-btn ui-icon-minus ui-btn-icon-right" data-locale-id="configure_program_options_break" href="javascript:HG.WebApp.ProgramEdit.BreakProgram(HG.WebApp.ProgramEdit._CurrentProgram.Address);history.back();">Break</a></li>
            <li><a class="ui-btn ui-icon-check ui-btn-icon-right" data-locale-id="configure_program_options_save" href="javascript:HG.WebApp.ProgramEdit.SaveProgram();history.back();">Save</a>
        </ul>
    </div>




    <div data-role="footer" data-position="fixed" data-tap-toggle="false">

        <div data-role="navbar">
            <ul>
                <li>
                    <a id="editprograms_backbutton" class="ui-btn ui-icon-back ui-btn-icon-left" data-locale-id="bottombar_button_back" data-transition="slide" data-direction="reverse" href="#page_automation_programs">
                        Back
                    </a>
                </li>
                <li>
                    <a class="ui-btn ui-icon-home ui-btn-icon-left" data-locale-id="bottombar_button_home" data-transition="slide" data-direction="reverse" href="#page_home">
                        Home
                    </a>
                </li>
                <li>
                    <a class="ui-btn ui-icon-arrow-u ui-btn-icon-right" href="#editprograms_actionmenu" data-locale-id="configure_program_bbaractions" data-rel="popup" data-transition="slideup">
                        Actions
                    </a>
                </li>
            </ul>
        </div><!-- /navbar -->

    </div>

</div>

<div data-role="page" id="page_automation_editprogram_code">

    {include pages/header.html}

    <div class="ui-content" style="padding: 15px">

        <img src="images/program.png" style="position:absolute;top:65px;left:20px;" width="64" />
        <div style="position:relative;height:100px;font-size:10pt;margin-top:20px"><h3 id="page_automation_programcode_title" style="position:absolute;bottom:40px;left:90px;"></h3></div>

    </div>


    <div data-role="popup" id="program_error_message" style="min-width:300px;min-height:180px;" data-transition="slidedown">
        <a href="javascript:$('#program_error_message').popup('close')" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-delete ui-btn-icon-notext ui-btn-right">Close</a>
        <div data-role="header" class="ui-corner-top">
            <h1 data-locale-id="configure_program_errorstitle">Errors</h1>
        </div>
        <div class="ui-content ui-corner-bottom">
            <p id="program_error_message_text"></p>
        </div>
    </div>




    <div id="editprograms_code_actionmenu" data-role="popup" data-overlay-theme="b">
        <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-delete ui-btn-icon-notext ui-btn-right">Close</a>
        <h5 align="center">Actions Menu</h5>
        <ul data-role="listview" data-inset="false" style="min-width:210px;">
            <li id="editprograms_actionmenu_run"><a class="ui-btn ui-btn-icon-right ui-icon-gear" data-locale-id="configure_program_options_run" href="javascript:HG.WebApp.ProgramEdit.CheckAndRunProgram(HG.WebApp.ProgramEdit._CurrentProgram);history.back();">Run</a></li>
            <li id="editprograms_actionmenu_break"><a class="ui-btn ui-btn-icon-right ui-icon-minus" data-locale-id="configure_program_options_break" href="javascript:HG.WebApp.ProgramEdit.BreakProgram(HG.WebApp.ProgramEdit._CurrentProgram.Address);history.back();">Break</a></li>
            <li id="editprograms_actionmenu_compile"><a class="ui-btn ui-btn-icon-right ui-icon-check" data-locale-id="configure_program_options_update" href="javascript:HG.WebApp.ProgramEdit.CompileProgram();history.back();">Update</a></li>
        </ul>
    </div>





    <div data-role="footer" data-position="fixed" data-tap-toggle="false">

        <div data-role="navbar">
            <ul>
                <li>
                    <a class="ui-btn ui-icon-back ui-btn-icon-left" data-locale-id="bottombar_button_back" data-transition="slide" data-direction="reverse" href="#page_automation_editprogram">
                        Back
                    </a>
                </li>
                <li>
                    <a id="editprograms_code_codeblockstoggle" class="ui-btn ui-icon-gear ui-btn-icon-left" data-locale-id="configure_program_bbar_programeditruncode">
                        Edit Trigger Code
                    </a>
                </li>
                <li>
                    <a class="ui-btn ui-icon-arrow-u ui-btn-icon-right" data-locale-id="configure_program_bbaractions" href="#editprograms_code_actionmenu" data-rel="popup" data-transition="slideup">
                        Actions
                    </a>
                </li>
            </ul>
        </div><!-- /navbar -->

    </div>


</div>



<!-- hg page init script -->
<script type="text/javascript">
    HG.WebApp.ProgramEdit.InitializePage();
</script>
