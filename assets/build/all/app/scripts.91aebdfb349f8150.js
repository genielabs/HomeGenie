var zuix;!function(){var _e={381:function(H){"use strict";const z="background-color:rgba(200,200,200,0.2);";let g=null,f=null,d=null;function l(r){g=window?window.console:{},f=window||{},this._timers={},this.args=function(c,_,C){let y="%c "+_+" %c"+(new Date).toISOString()+" %c"+c;const I=[z+"color:#8a53ff;",z+"color:#777777",z+"color:#888888;"];for(let v=0;v<C.length;v++)if("string"==typeof C[v]&&0===C[v].indexOf("timer:")){const e=C[v].split(":");if(3===e.length){let i;switch(e[2]){case"start":this._timers[e[1]]=(new Date).getTime(),y+=" %cSTART "+e[1],I.push(z+"color:#999900;");break;case"stop":i=(new Date).getTime()-this._timers[e[1]],y+=" %cSTOP "+e[1]+" "+i+" ms",I.push(i>200?z+"color:#ff0000;":i>100?z+"color:#ff7700;":z+"color:#00aa00;")}}}y+=" \n%c ",I.push("background-color:transparent;color:inherit;");for(let v=I.length-1;v>=0;v--)Array.prototype.unshift.call(C,I[v]);Array.prototype.unshift.call(C,y),Array.prototype.push.call(C,"\n\n")},this.log=function(c,_){d&&d.call(r,c,_),(f.__zuix__debug||"ERROR"===c||"WARN"===c)&&(this.args(r,c,_),g.log(..._))}}l.prototype.monitor=function(r){d=r},l.prototype.i=l.prototype.l=l.prototype.log=l.prototype.info=function(...r){return this.log("INFO",r),this},l.prototype.w=l.prototype.warn=function(...r){return this.log("WARN",r),this},l.prototype.e=l.prototype.error=function(...r){return this.log("ERROR",r),this},l.prototype.d=l.prototype.debug=function(...r){return this.log("DEBUG",r),this},l.prototype.t=l.prototype.trace=function(...r){return this.log("TRACE",r),this},H.exports=function(r){return new l(r)}},65:function(H,z,g){"use strict";const f=g(381)("TaskQueue.js");function d(l){const r=this;r._worker=null,r._taskList=[],r._requests=[],null==l&&(l=function(){}),r.taskQueue=function(c,_,C){r._taskList.push({tid:c,fn:_,status:0,priority:C,step:function(y){f.t(y,"load:step"),l(r,"load:step",{task:y})},end:function(){this.status=2,f.t(this.tid,"load:next","timer:task:stop"),l(r,"load:next",{task:this.tid}),r._taskList.splice(this.index,1),r.taskCheck(),null!=this._callback&&this._callback.call(this)},callback:function(y){this._callback=y}}),f.t(c,"task added",C,"priority"),r._taskList.sort(function(y,I){return y.priority>I.priority?1:I.priority>y.priority?-1:0}),r.taskCheck()},r.taskCheck=function(){for(let c=0;c<r._taskList.length;c++){if(0===r._taskList[c].status)return r._taskList[c].status=1,f.t(r._taskList[c].tid,"load:begin","timer:task:start"),l(r,"load:begin",{task:r._taskList[c].tid}),r._taskList[c].index=c,void r._taskList[c].fn.call(r._taskList[c]);if(1===r._taskList[c].status||2===r._taskList[c].status)return}f.t("load:end"),l(r,"load:end")}}d.prototype.callback=function(l){},d.prototype.queue=function(l,r,c){return this.taskQueue(l,r,c)},H.exports=d},826:function(H){"use strict";H.exports={isNoU:function(z){return null==z},propertyFromPath:function(z,g){if("string"!=typeof g||null==z)return;try{if(void 0!==z[g])return z[g]}catch(r){console.log(r)}let f=z,d="";const l=g.match(/\[(".*?"|'.*?'|(.*?))\]|".*?"|'.*?'|[0-9a-zA-Z_$]+/g);for(let r=0;r<l.length;r++){let c,_=l[r];_.startsWith("[")&&_.endsWith("]")&&(_=_.substring(1,_.length-1).trim()),(_.startsWith('"')&&_.endsWith('"')||_.startsWith("'")&&_.endsWith("'"))&&(_=_.substring(1,_.length-1)),d+=_;try{c=f[_]}catch{}if(void 0===c)return;f=c,d+="->"}return f},cloneObject:function z(g){if(null===g||"object"!=typeof g)return g;let f=g;try{f=g.constructor();for(const d in g)g.hasOwnProperty(d)&&(f[d]=z(g[d]))}catch{}return f},hasPassiveEvents:function(){let z=!1;try{const g=Object.defineProperty({},"passive",{get:function(){z=!0}});window.addEventListener("testPassive",null,g),window.removeEventListener("testPassive",null,g)}catch{}return z},hyphensToCamelCase:function(z){return"string"==typeof z?z.replace(/--/g,":").replace(/-([a-z0-9_$-])/g,function(g){return"_$-".indexOf(g[1])>-1||(+g[1]).toString()===g[1]?"_"+g[1].replace("-","_"):g[1].toUpperCase()}).replace(/:/g,"-"):z},camelCaseToHyphens:function(z){return"string"!=typeof z?z:(z=z.replace(/(^\w)|(\s+\w)/g,function(g){return g.toUpperCase()}).replace(/\s/g,"")).split(/(?=[A-Z])/).join("-").toLowerCase()},normalizeControllerCode:function(z){if(z.indexOf("module.exports")>=0)return"'use strict'; let module = {}; "+z+";\nreturn module.exports;";{let g=z;const f=z.indexOf("function "),d=z.indexOf("zuix.controller"),l=z.indexOf("class ");return l>=0&&(l<f||-1===f)&&(l<d||-1===d)?g=z.substring(0,l)+"return "+z.substring(l):f>=0&&(f<d||-1===d)?g=z.substring(0,f)+"return "+z.substring(f):-1!==d&&(g=z.substring(0,d)+"return "+z.substring(d+15)),g}},dom:{queryAttribute:function(z,g,f){const d=z.split(/[\s|,]+/g);let l="";return d.forEach(function(r,c){l+=null!=g?"["+CSS.escape(r)+'="'+g+'"]':"["+CSS.escape(r)+"]",f&&(l+=f.get(c)),c<d.length-1&&(l+=",")}),l},getAttribute:function(z,g){let f;if("string"==typeof g&&-1!==g.indexOf(",")){const d=g.split(/[\s|,]+/g);for(let l=0;l<d.length;l++){const c=z.getAttribute(d[l]);if(null!=c){f=c;break}}}else f=z.getAttribute(g);return f},setAttribute:function(z,g,f){if("string"==typeof g&&-1!==g.indexOf(",")){const d=g.split(/[\s|,]+/g),l=this;d.forEach(function(r){l.setAttribute(z,r,f)})}else null===f?z.removeAttribute(g,f):z.setAttribute(g,f)},cssNot:function(z,g){const f=z.split(",");let d="";return f.forEach(function(r,c){r.startsWith(".")?d+=":not("+r+")":d+=null!=g?":not(["+r+'="'+g+'"])':":not(["+r+"])",c<f.length-1&&(d+=",")}),l=d,{get:function(r){const c=l.split(",");return r>=c.length||null==r?c[0]:c[r]},getAll:function(r){return l.split(",").join("")}};var l},getShadowRoot:function(z){for(;z;z=z.parentNode)if(z instanceof ShadowRoot)return z;return!1}}}},917:function(H,z,g){"use strict";const f=g(381)("TaskQueue.js"),d=g(826),l=d.hasPassiveEvents(),r=[];function c(e){!function(i,n,o){const a=v(i);v.each(r,function(){this.element===i&&this.path===n&&this.handler.call(a,o,a)})}(this,e.type,e)}function _(e,i,n){let o=1,a=-1;v.each(r,function(h){this.element===e&&this.path===i&&(o--,this.handler===n&&(a=h))}),-1!==a&&r.splice(a,1),0===o&&e.removeEventListener(i,c)}function C(e,i,n){let o=n.classes;return"string"==typeof n?(o=n.split(/[\s|,]+/g),n={}):Array.isArray(n)&&(o=n,n={}),Object.assign({type:e,classes:o,target:i},n)}function y(e){if(this._selection=[],void 0===e&&(e=document.documentElement),e instanceof y)return e;if(e instanceof HTMLCollection||e instanceof NodeList){const i=this._selection=[];v.each(e,function(n,o){i.push(o)})}else if(Array.isArray(e))this._selection=e;else if(e===window||e instanceof HTMLElement||e instanceof Node)this._selection=[e];else if("string"==typeof e)this._selection=document.documentElement.querySelectorAll(e);else if(null!==e){const i="ZxQuery cannot wrap object of this type.";throw f.e(i,typeof e,e),new Error(i)}return this}function I(e){return new y(e)}y.prototype.length=function(){return this._selection.length},y.prototype.parent=function(e){return new y(e?v.getClosest(this._selection[0],e):this._selection[0].parentNode)},y.prototype.children=function(e){return new y(e?this._selection[0].querySelectorAll(e):this._selection[0].children)},y.prototype.reverse=function(){const e=Array.prototype.slice.call(this._selection,0);return this._selection=e.reverse(),this},y.prototype.get=function(e){return e||(e=0),this._selection[e]},y.prototype.eq=function(e){const i=this._selection;let n=i[e];return arguments.length>1&&(n=[],v.each(arguments,function(o,a){null!=i[a]&&n.push(i[a])})),new y(n)},y.prototype.prev=function(){return new y(this._selection[0].previousElementSibling)},y.prototype.next=function(){return new y(this._selection[0].nextElementSibling)},y.prototype.index=function(e){const i=this._selection[0];return 1===this.length()&&null==e?Array.from(this.parent().children()._selection).indexOf(i):this.length()&&null!=e?this._selection.indexOf(e.get()):-1},y.prototype.find=function(e){return this._selection[0]?new y(this._selection[0].querySelectorAll(e)):new y},y.prototype.each=function(e){return v.each(this._selection,e),this},y.prototype.attr=function(e,i){const n=this;if("object"==typeof e)v.each(e,(o,a)=>{n.each((h,p)=>d.dom.setAttribute(p,o,a))});else{if(void 0===i)return d.dom.getAttribute(this._selection[0],e);this.each((o,a)=>d.dom.setAttribute(a,e,i))}return this},y.prototype.trigger=function(e,i){const n=new CustomEvent(e,{detail:i});return this.each(function(o,a){a.dispatchEvent(n)}),this},y.prototype.one=function(e,i){const n=this;return"object"==typeof e&&null==i?(v.each(e,(o,a)=>{n.one(o,a)}),this):(this.on(e,new function(o,a){let h=!1;return function(p,m){h||(h=!0,v(n).off(o,this),a.call(n,p,m,n))}}(e,i)),this)},y.prototype.on=function(e,i){if("object"==typeof e&&null==i){const a=this;return v.each(e,(h,p)=>a.on(h,p)),this}const n=e.split(/[\s|,]+/g)||[];let o;return"function"!=typeof i&&(o=i,i=o.handler),this.each((a,h)=>n.map(p=>function(m,w,E,S){let P=!1;v.each(r,function(){if(this.element===m&&this.path===w&&this.handler===E)return f.w("Handler already registered",m,w,E),P=!0,!1}),P||(r.push({element:m,path:w,handler:E,options:S}),m.addEventListener(w,c,!(!l||null!=S&&!1===S.passive)&&{passive:!0}))}(h,p,i,o))),this},y.prototype.off=function(e,i){if("object"==typeof e&&null==i){const o=this;return v.each(e,(a,h)=>o.off(a,h)),this}const n=e.split(/[\s|,]+/g)||[];return this.each((o,a)=>n.map(h=>_(a,h,i))),this},y.prototype.reset=function(){return this.each((e,i)=>{return n=i,void v.each(r.slice(),function(){this.element===n&&(f.t("Removing event handler",this.element,this.path,this.handler),_(this.element,this.path,this.handler))});var n}),this},y.prototype.isEmpty=function(){return 0===this._selection[0].innerHTML.replace(/\s/g,"").length},y.prototype.position=function(){return v.getPosition(this._selection[0])},y.prototype.css=function(e,i){if("object"==typeof e)v.each(e,(n,o)=>this.each((a,h)=>h.style[n]=o));else{if(d.isNoU(i))return this._selection[0].style[e];this.each((n,o)=>o.style[e]=i)}return this},y.prototype.addClass=function(e){const i=e.split(/[\s|,]+/g)||[];return v.each(this._selection,(n,o)=>i.map(a=>o.classList.add(a))),this},y.prototype.hasClass=function(e){return v.hasClass(this._selection[0],e)},y.prototype.removeClass=function(e){const i=e.split(/[\s|,]+/g)||[];return v.each(this._selection,(n,o)=>i.map(a=>o.classList.remove(a))),this},y.prototype.html=function(e){return d.isNoU(e)?this._selection[0].innerHTML:(this.each((i,n)=>n.innerHTML=e),this)},y.prototype.checked=function(e){if(d.isNoU(e)){const i=this._selection[0].checked;return null!=i&&"false"!=i&&(i||"checked"==i)}return this.each((i,n)=>n.checked=e),this},y.prototype.value=function(e){return d.isNoU(e)?this._selection[0].value:(this.each((i,n)=>n.value=e),this)},y.prototype.append=function(e){return"string"==typeof e?this._selection[0].innerHTML+=e:this._selection[0].appendChild(e instanceof y?e.get():e),this},y.prototype.insert=function(e,i){i=i instanceof y?i.get():i;const n=this.children().get(e);return null!==n?this._selection[0].insertBefore(i,n):this._selection[0].appendChild(i),this},y.prototype.prepend=function(e){return"string"==typeof e?this._selection[0].innerHTML=e+this._selection[0].innerHTML:this._selection[0].insertBefore(e instanceof y?e.get():e,this._selection[0].firstElementChild),this},y.prototype.detach=function(){const e=this._selection[0],i=e.parentNode;return null!=i&&(e.__zuix_oldParent=i,e.__zuix_oldIndex=Array.prototype.indexOf.call(i.children,e),i.removeChild(e),f.t("Detached from parent",i,e)),this},y.prototype.attach=function(){const e=this._selection[0];return null!=e.parentNode&&null!=e.__zuix_oldParent&&e.parentNode.removeChild(e),null==e.parentNode&&null!=e.__zuix_oldParent&&(v(e.__zuix_oldParent).insert(e.__zuix_oldIndex,e),e.__zuix_oldParent=null,delete e.__zuix_oldParent,delete e.__zuix_oldIndex),this},y.prototype.display=function(e){return d.isNoU(e)?this._selection[0].style.display:(v.each(this._selection,(i,n)=>n.style.display=e),this)},y.prototype.visibility=function(e){return d.isNoU(e)?this._selection[0].style.visibility:(v.each(this._selection,(i,n)=>n.style.visibility=e),this)},y.prototype.show=function(e){return this.display(e??"")},y.prototype.hide=function(){return this.display("none")},y.prototype.playTransition=function(e){return v.playFx(C("transition",this,e)),this},y.prototype.playAnimation=function(e){return v.playFx(C("animation",this,e)),this},y.prototype.isPlaying=function(){return this.hasClass("--z-playing")};const v=I;I.find=function(e){return v().find(e)},I.each=function(e,i){const n=null==e?0:Object.keys(e).length;if(n>0){let o=0;for(const a in e)if(e.hasOwnProperty(a)){let h=e[a];if(h instanceof Element&&(h=v(h)),!1===i.call(h,a,e[a],h)||(o++,o>=n))break}}return this},I.hasClass=function(e,i){const n=i.split(/[\s|,]+/g)||[];let o=!1;return v.each(n,(a,h)=>{if(o=e.classList.contains(h),o)return!1}),o},I.classExists=function(e){const i=e.split(/[\s|,]+/g)||[];let n=!1;return v.each(i,(o,a)=>{const h=document.styleSheets;if(h)for(let p=0;p<h.length;p++)try{const m=h[p].cssRules;if(null!=m)for(let w=0;w<m.length;w++)if(m[w].selectorText===a){n=!0;break}}catch(m){if("SecurityError"!==m.name&&"InvalidAccessError"!==m.name)throw m}}),n},I.wrapElement=function(e,i){const n=document.createElement(e);return"string"==typeof i?n.innerHTML=i:n.appendChild(i),n},I.wrapCss=function(e,i,n){const o=/(([a-zA-Z0-9\240-\377=:-_- \n,.@]+.*){([^{}]|((.*){([^}]+)[}]))*})/g;let a,h="";i=(i=i.replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/g,"")).replace(/(?:\r\n|\r|\n)/g,"").replace(/}/g,"}\n").replace(/\{/g,"{\n");do{if(a=o.exec(i),a&&a.length>1){let p=a[2];if(null!=p&&p.length>0){p=p.replace(/\n/g,"");const m=p.split(",");let w=!1;if(v.each(m,(E,S)=>{if("."===S.trim()||":host"===S.trim())h+="\n[z-component]"+e+" ";else if("@"===S.trim()[0])h+=S+" ",(S.trim().toLowerCase().startsWith("@media")||S.trim().toLowerCase().startsWith("@supports"))&&(w=!0);else if(n)S.split(/\s+/).forEach(function(P){(P=P.trim()).lastIndexOf(".")>0?P.replace(/(?=\.)(?![^\[\]()]*(?:\[[^\[\]()]*([\])]))?([\])]))/gi,",").split(",").forEach(function(D){h+=""!==D?D+e:"\n"}):h+=""!==P&&">"!==P&&"*"!==P?"\n"+P+e+" ":P+" "});else{let P=S.trim();P=P.startsWith(":host")?P.substring(5):"\n"+P,h+="\n[z-component]"+e+P+" "}E<m.length-1&&(h=h.trim()+", ")}),w){const E=v.wrapCss(e,a[1].substring(a[2].length).replace(/^{([^\0]*?)}$/,"$1"),n);h+="{\n  "+E+"\n}\n"}else h+=a[1].substring(a[2].length)+"\n"}else f.w("z$.wrapCss was unable to parse rule.",p,a)}}while(a);return""!==h&&(i=h),i},I.appendCss=function(e,i,n,o){const a=o||document.head||document.getElementsByTagName("head")[0];let h=null;if(i&&a.contains(i))a.removeChild(i);else{const p=document.getElementById(n);p&&a.contains(p)&&a.removeChild(p)}return"string"==typeof e?(h=document.createElement("style"),h.id=n,h.appendChild(document.createTextNode(e))):e instanceof Element&&(h=e),h&&a.appendChild(h),h},I.replaceBraces=function(e,i){const n=new RegExp(/{?{.*?}?}/g);let o,a="",h=0,p=0;for(;o=n.exec(e);){if("string"==typeof o[0]&&(0===o[0].trim().length||o[0].indexOf("\n")>=0)){const w=e.substring(p,o.index)+o[0];a+=w,p+=w.length;continue}let m=o[0];if(i){const w=i(o[0]);null!=w&&(m=w,h++)}a+=e.substring(p,o.index)+m,p=o.index+o[0].length}return h>0?(a+=e.substring(p),a):null},I.getClosest=function(e,i){for(e=e.parentNode;e&&e!==document;e=e.parentNode)if(e.matches&&e.matches(i))return e;return null},I.getPosition=function(e,i){const n="--ui--visible",o=function(){let p=0,m=0;const w=e.getBoundingClientRect();let E=e;for(;E;){if("body"===E.tagName.toLowerCase()){const S=E.scrollLeft||document.documentElement.scrollLeft,P=E.scrollTop||document.documentElement.scrollTop;p+=E.offsetLeft-S+E.clientLeft,m+=E.offsetTop-P+E.clientTop}else p+=E.offsetLeft-E.scrollLeft+E.clientLeft,m+=E.offsetTop-E.scrollTop+E.clientTop;E=E.offsetParent}return{x:p,y:m,rect:w}}();o.visible=!1;const a=p=>{if(!(p instanceof Element))return document.body;const m=getComputedStyle(p);return!(p.scrollHeight>=p.clientHeight||p.scrollWidth>=p.clientWidth)||/^(visible|hidden)/.test(m.overflowY||"visible")&&/^(visible|hidden)/.test(m.overflowX||"visible")?a(p.parentElement)||document.body:p},h=a(e.parentNode);if(null!=h){let p=h.getBoundingClientRect();h===document.body&&(p={x:p.x,y:p.y,width:document.documentElement.offsetWidth||document.documentElement.clientWidth,height:document.documentElement.offsetHeight||document.documentElement.clientHeight,top:0,left:0,right:document.documentElement.clientWidth||document.documentElement.offsetWidth,bottom:document.documentElement.clientHeight||document.documentElement.offsetHeight}),null==i&&(i=0);const m=e.getBoundingClientRect();let w="none"!==getComputedStyle(e).display;if(w){w=!(m.left-1>p.right-i||m.right+1<p.left+i||m.top-1>p.bottom-i||m.bottom+1<p.top+i),h!==document.body&&(w=w&&v(h).position().visible);let S=e.parentNode;for(;S&&S instanceof Element&&w;){const P=getComputedStyle(S);w=w&&"none"!==P.display&&"hidden"!==P.visibility,S=S.parentNode}}o.visible=w,o.frame={dx:(m.left+m.width/2-p.left)/p.width,dy:(m.top+m.height/2-p.top)/p.height};const E=v(e);!w&&E.hasClass(n)?(E.removeClass(n),o.event="exit"):w?w&&(E.hasClass(n)?o.event="scroll":(o.event="enter",E.addClass(n))):o.event="off-scroll"}return o},I.addTransition=function(e,i,n,o,a,h){let p="",m=document.getElementById(e);null!=m?p=m.innerHTML:m=document.createElement("style");let w="",E="";v.each(o,(P,D)=>{P=d.camelCaseToHyphens(P),w+="  "+P+": "+D+";\n",E+=P+", "});let S="\n";return v.each(a,(P,D)=>{P=d.camelCaseToHyphens(P),S+="  transition-"+P+": "+D+";\n"}),E=E.substring(0,E.length-2)+";",p+=i+"."+n+", "+i+" ."+n+"{\n"+w+"  transition-property: "+E+S+"}\n",this.appendCss(p,m,e,h)},I.playFx=function(e){const i=this,n=v(e.target);if(0===n.length())return void f.warn("playFx: target element is undefined",e);null==e.classes?e.classes=[]:"string"==typeof e.classes&&(e.classes=e.classes.split(/[\s|,]+/g));const o=e.classes.length>1&&e.classes.shift();n.hasClass("--z-playing")||(n.addClass("--z-playing"),o&&n.addClass(o).css(e.type,"none"));const a=getComputedStyle(n.get()),h=1e3*parseFloat(a[e.type+"-delay"])||o?10:0;let p=!1;const m=()=>{p||(p=!0,e.classes.length>1?(e.onStep&&e.onStep.call(n,n,e.classes.slice(1)),i.playFx(e)):(!e.holdState&&e.classes.length>0&&n.removeClass(e.classes.shift()),n.removeClass("--z-playing"),e.onEnd&&e.onEnd.call(n,n)))},w=()=>{o&&n.css(e.type,"").removeClass(o);const E=e.classes[0];E&&n.addClass(E),e.options&&v.each(e.options,function(D,A){n.css(e.type+"-"+D,A)});const S=1+(parseFloat(a[e.type+"-iteration-count"])||0),P=1e3*parseFloat(a[e.type+"-duration"])*S;setTimeout(m,P)};n.on(e.type+"end",function(E){E.target===e.target.get()&&(n.off(e.type+"end",this),m())}),h>0?setTimeout(w,h):w()},I.ZxQuery=y,String.prototype.hashCode=function(){let e=0;if(0===this.length)return e;for(let i=0;i<this.length;i++)e=(e<<5)-e+this.charCodeAt(i),e|=0;return e},H.exports=I},693:function(H,z,g){"use strict";H.exports=g(459)()},265:function(H,z,g){"use strict";const f=g(349);function d(){this.observableList=[]}function l(_){let C="";for(;_&&_.__path__;){const y=_;C=(_=_.__parents__[0])&&_.__path__?"['"+y.__path__+"']."+C:y.__path__+(C.startsWith("[")?"":".")+C}return C}function r(_){const C=[];return _.__parents__.forEach(y=>C.push(...r(y))),C.push(..._.__listeners__),C}function c(_){r(_).forEach(C=>_.unsubscribe(C))}d.prototype.observable=function(_){let C;const y=this.observableList.filter(I=>_===I.proxy||_===I.target);return 1===y.length&&(C=y[0]),null==C&&(C=new f(this,_,{context:null,get:function(I,v){if("observableTarget"===v)return I;if("Symbol(Symbol.toStringTag)"===v.toString())return;let e;try{e=I[v]}catch{}if(void 0===e)return;const i=[],n=this.context.observable(I);if("object"==typeof e){const a=this.context.observable(e);-1===a.__parents__.indexOf(n)&&(a.__parents__.push(n),a.__path__=v),i.push(...r(a)),e=a.proxy}else i.push(...r(n));const o=l(n)+v;return i.forEach(a=>{a.get&&a.get(I,v,e,o)}),e},set:function(I,v,e){const i=JSON.parse(JSON.stringify(I)),n=I[v];"object"==typeof n&&c(this.context.observable(n)),I[v]=e;const o=this.context.observable(I),a=l(o)+v;return r(o).forEach(h=>{h.set&&h.set(I,v,e,a,i),i[a]!==e&&h.change&&h.change(I,v,e,a,i)}),!0},deleteProperty:function(I,v){const e=I[v];return"object"==typeof e&&c(this.context.observable(e)),delete I[v]}})),C},H.exports=d},349:function(H){"use strict";function z(g,f,d){Object.assign(d,{context:g}),Object.assign(this,Proxy.revocable(f,d)),this.handler=d,this.handler.context.observableList=this.handler.context.observableList||[],this.handler.context.observableList.push(this),this.target=f,this.__parents__=[],this.__listeners__=[]}z.prototype.subscribe=function(g){return this.handler.context.observableList.forEach(f=>{if(f!==this&&-1!==f.__listeners__.indexOf(g))throw new Error("Listener already registered.")}),this.__listeners__.push(g),this},z.prototype.unsubscribe=function(g){const f=this.__listeners__.indexOf(g);return-1!==f&&this.__listeners__.splice(f,1),0===this.__listeners__.length&&(this.revoke(),this.handler.context.observableList=this.handler.context.observableList.filter(d=>{if(d===this)return!1;const l=d.__parents__.indexOf(this);return-1===l||(d.__parents__.splice(l,1),0!==d.__parents__.length||0!==d.__listeners__.length)||(d.unsubscribe(null),!1)})),this},H.exports=z},398:function(H){"use strict";function z(g,f,d,l){this.$view=g,this.$element=f,this.contextData=d,this.refreshMs=100,this.paused=!1,this.forceActive=!1;let r=!1;this.requestRefresh=(c,_,C)=>{const y=c.get()===_.get()&&null!=zuix.context(c)&&!r||_.position().visible,I=this.forceActive||!this.paused&&null!=_.parent()&&y,v=(e,i,n)=>{null!=e&&(this.contextData=e),null==i&&(i=_.attr("@delay")?+_.attr("@delay"):null),null!=i&&(this.refreshMs=i),null==n&&(n=null!=_.attr("@active")),null!=n&&(this.forceActive=n);const o=zuix.context(c);null!=o&&this.refreshMs>0?(setTimeout(()=>this.requestRefresh(c,_,this.contextData),I?this.refreshMs:500),r=!0):null==o&&this.stop()};I?(_._refreshActive||(_._refreshActive=!0,_.trigger("refresh:active")),l(c,_,C,(e,i,n)=>v(e,i,n))):(_._refreshActive&&(_._refreshActive=!1,_.trigger("refresh:inactive")),v(this.contextData))}}z.prototype.stop=function(){this.pause(),this.refreshMs=0,this.stopped=!0},z.prototype.start=function(g){if(this.refreshMs=g||this.refreshMs,this.started)return this.resume();this.started=!0,this.requestRefresh(this.$view,this.$element,this.contextData)},z.prototype.pause=function(){this.paused=!0},z.prototype.resume=function(){this.paused=!1},H.exports=z},854:function(H){H.exports=()=>{}},622:function(H,z,g){"use strict";const f=g(381),d=f("ComponentContext.js"),l=g(541),r=g(917),c=g(826),_=g(643);let C=null;const y=[],I=[],v=(n,o)=>{const a=c.isNoU((o=o.observableTarget||o).value)?c.isNoU(o.innerHTML)?o:o.innerHTML:o.value;switch(n.tagName.toLowerCase()){case"img":n.src=c.isNoU(o.src)?c.isNoU(o.innerHTML)?o:o.innerHTML:o.src;break;case"a":n.href=c.isNoU(o.href)?c.isNoU(o.innerHTML)?o:o.innerHTML:o.getAttribute("href"),c.isNoU(o.href)||c.isNoU(o.innerHTML)||""===o.innerHTML.trim()||0===r(o).find(c.dom.queryAttribute(l.zField)).length()&&r(n).html("").append(document.createTextNode(o.innerHTML));break;case"input":switch(n.type){case"checkbox":case"radio":n.value==a&&(n.checked=!0);break;default:n.value=a}break;case"select":r.each(n.options,(p,m)=>{if(m.value==a)return n.selectedIndex=p,!1});break;default:const h=c.isNoU(o.innerHTML)?document.createTextNode(o):o.innerHTML;r(n).html("").append(h)}},e=(n,o,a,h,p)=>{h&&!n._disposed&&h.call(o,a,p,o,function(m){if(!n._disposed){const w=a.get().dataset.__zuix_refreshTimeout;w&&I[w]&&clearTimeout(I[w]),a.get().dataset.__zuix_refreshTimeout=setTimeout(function(){e(n,o,a,h,p)},m||500)}})};function i(n,o,a){return C=n,this.contextId=null==o||null==o.contextId?null:o.contextId,this.componentId=null,Object.defineProperty(this,"handlers",{enumerable:!1,writable:!0,value:{refresh:function(h,p,m,w){}}}),Object.defineProperty(this,"trigger",{enumerable:!1,writable:!0,value:(h,p,m)=>{a&&a(h,p,m)}}),Object.defineProperty(this,"_options",{enumerable:!1,writable:!0,value:null}),Object.defineProperty(this,"_container",{enumerable:!1,writable:!0,value:null}),Object.defineProperty(this,"_model",{enumerable:!1,writable:!0,value:null}),Object.defineProperty(this,"_view",{enumerable:!1,writable:!0,value:null}),Object.defineProperty(this,"_css",{enumerable:!1,writable:!0,value:null}),Object.defineProperty(this,"_style",{enumerable:!1,writable:!0,value:null}),Object.defineProperty(this,"_controller",{enumerable:!1,writable:!0,value:null}),Object.defineProperty(this,"behavior",{enumerable:!1,writable:!0,value:null}),Object.defineProperty(this,"_eventMap",{enumerable:!1,writable:!0,value:[]}),Object.defineProperty(this,"_behaviorMap",{enumerable:!1,writable:!0,value:[]}),Object.defineProperty(this,"_fieldCache",{enumerable:!1,writable:!0,value:[]}),Object.defineProperty(this,"_c",{enumerable:!1,writable:!0,value:null}),Object.defineProperty(this,"_modelListener",{enumerable:!1,writable:!0}),this._modelListener=Object.assign({context:null,get:function(h,p,m,w){},set:function(h,p,m,w,E){const S=this.context.$;if(h instanceof Element&&(w=w.split(".")[0],m=h),"function"==typeof m){let D=S.find(c.dom.queryAttribute(l.zBind,w));return null==D.get()&&(D=S.find(c.dom.queryAttribute(l.zField,w))),void e(this.context,S,D,m,p)}const P=D=>{null!=D.get()&&D.each((A,x)=>v(x,m))};S.get()&&(P(S.find(c.dom.queryAttribute(l.zBind,w))),P(S.find(c.dom.queryAttribute(l.zField,w))),this.context._c&&this.context._c.update&&this.context._c.update(h,p,m,w,E))}},{context:this}),Object.defineProperty(this,"_viewObserver",{enumerable:!1,writable:!0,value:new _(this)}),Object.defineProperty(this,"_disposed",{enumerable:!1,writable:!0,value:!1}),Object.defineProperty(this,"#",{enumerable:!1,writable:!0,value:{}}),Object.defineProperty(this,"_",{enumerable:!1,writable:!0,value:{}}),Object.defineProperty(this,"_refreshHandler",{enumerable:!1,writable:!0}),Object.defineProperty(this,"_dependencyResolver",{enumerable:!1,writable:!0}),this.options(o),this}i.prototype.dispose=function(){if(this._disposed)return;this._disposed=!0,this._viewObserver.stop(),this.style(null),this.model(null),this._c&&(this._c.view()&&(this._c.trigger("component:dispose",this._c.view(),!0),this._c.view().attr(l.zComponent,null).attr(l.zContext,null).attr(l.zLoad,null).attr(l.zLoaded,null).attr(l.zReady,null).attr(l.resourceType.view,null).attr(l.resourceType.controller,null).attr(l.resourceType.file,null).attr(this.getCssId(),null),this._c.view().reset(),this._c._fieldCache&&r.each(this._c._fieldCache,function(a,h){h.reset()})),this._c.dispose&&this._c.dispose.call(this,this)),this._c&&this._c._childNodes.length>0&&(this._c.view().html(""),this._c.restoreView());const n=C.dumpContexts(),o=n.indexOf(this);n.splice(o,1)},i.prototype.container=function(n){return null==n?this._container:(n instanceof r.ZxQuery&&(n=n.get()),this._container=n,this)},i.prototype.view=function(n){if(void 0===n)return this._view;if(null===n)throw new Error("View cannot be set to null.");if(n instanceof r.ZxQuery&&(n=n.get()),n===this._view)return this;this._viewObserver.stop();const o=this.getCssId();if(null!=this._view){const p="*"+c.dom.cssNot(l.zLoad).getAll();r(this._view).attr(o,null).find(p).each(function(m,w){this.attr(o,null)})}const a=p=>{p.find("*").each((m,w,E)=>{for(let S=0;S<w.attributes.length;S++){const P=w.attributes.item(S),D=P.value;if(P.name.length>1&&P.name.startsWith("#")){const A=c.hyphensToCamelCase(P.name.substring(1));null==E.attr(l.zField)&&E.attr(l.zField,A),null==E.attr(l.zBind)&&null!=D&&D.length>0&&E.attr(l.zBind,D)}}})};if(d.t(this.componentId,"view:attach","timer:view:start"),"string"==typeof n){const p={content:n};this.trigger(this,"html:parse",p);const m=r.wrapElement("div",n=p.content);null!=m.firstElementChild&&(null!=c.dom.getAttribute(m.firstElementChild,l.zView)?1===m.children.length&&(n=m.firstElementChild.innerHTML):n=m.innerHTML),null!=this._container?(this._view=this._container,this._view.innerHTML+=n):null!=this._view?this._view.innerHTML=n:this._view=m;const w=r(this._view);w.find("script:not([type=jscript])").each((E,S,P)=>{"true"!==P.attr(l.zuixLoaded)&&(P.attr(l.zuixLoaded,"true"),Function(S.innerHTML).call(window))}),a(w),this.trigger(this,"view:process",w)}else null!=this._container&&"default"!==this.componentId?(this._view=r.wrapElement("div",n.outerHTML).firstElementChild,c.dom.setAttribute(this._view,l.zView,null),this._container.appendChild(this._view),this._view=this._container):this._view=n;const h=r(this._view);return a(h),h.find(c.dom.queryAttribute(l.zLoad,null,c.dom.cssNot(l.zLoaded))).each((p,m,w)=>w.attr(l.zLoaded,"false")),this.checkEncapsulation(),this.modelToView(),d.t(this.componentId,"view:attach","timer:view:stop"),this},i.prototype.field=function(n){const o=C.field(n,this._view,this);return o.on=(a,h,p,m)=>{if("string"==typeof h){const w=h;h=()=>{this._c&&this._c.trigger(w,p,m)}}return r.ZxQuery.prototype.on.call(o,a,h)},o},i.prototype.checkEncapsulation=function(){const n=r(this._view),o=this.getCssId();if(n.length()&&!1!==this._options.css)if(n.attr(o,""),null!=this._container||null!=this._style){const a="*"+c.dom.cssNot(l.zLoad).getAll();n.find(a).each((h,p,m)=>m.attr(o,"")),this._viewObserver.start(),n.attr(l.resourceType.controller,null)}else n.attr(l.resourceType.controller,"")},i.prototype.style=function(n){if(void 0===n)return this._style;const o=this.getCssId();d.t(this.componentId,"view:style","timer:view:start",o);const a=c.dom.getShadowRoot(this._view);if(null==n||n instanceof Element)this._css=n instanceof Element?n.innerText:n,this._style=r.appendCss(n,this._style,this.componentId+"@"+o,a);else if("string"==typeof n){this._css=n;const h={content:n};this.trigger(this,"css:parse",h),n=h.content;let p="";!0===this.options().resetCss&&(p=":host { all: initial; }");const m="["+o+"]";a||(n=r.wrapCss(m,p+"\n"+n,!0===this.options().encapsulation)),this._style=r.appendCss(n,this._style,this.componentId+"@"+o,a)}return a||this.checkEncapsulation(),d.t(this.componentId,"view:style","timer:view:stop",o),this},i.prototype.model=function(n){return void 0===n||this._model===n||(null!==this._model&&"function"!=typeof this._model&&C.observable(this._model).unsubscribe(this._modelListener),this._model=n,null!=n&&("function"!=typeof n&&(this._model=C.observable(n).subscribe(this._modelListener).proxy),this.modelToView(),null!=this._c&&this._c.update&&this._c.update.call(this._c,null,null,null,null,this._c))),this._model},i.prototype.controller=function(n){return void 0===n?this._controller:(this._controller="string"==typeof n?C.controller(n,{componentId:this.componentId}):n,this._controller.log=f(this.componentId),this)},i.prototype.options=function(n){if(null==n)return this._options;const o=this._options=this._options||{};return Object.assign(o,n),this.componentId=o.componentId||this.componentId,null==y[this.componentId]&&(y[this.componentId]=y.length,y.length++),this.container(o.container),this.view(o.view),"string"==typeof o.css&&this.style(o.css),this.controller(o.controller),this.model(o.model),this},i.prototype.on=function(n,o){return this._c.on(n,o),this},i.prototype.loadCss=function(n){const o=this;n||(n={});let a=o.componentId;n.path&&(a=n.path);let h=C.store("zuix.inlineStyles");if(null==h&&(h=[],C.store("zuix.inlineStyles",h)),null!=h[a])o.style(h[a]),n.success&&n.success.call(o,h[a],o),n.then&&n.then.call(o,o);else{const p=r().find('style[media="#'+a+'"],style[media="'+a+'"]');if(p.length()){const m=p.get(0).innerText;o.style(m),p.detach(),h[a]=m,n.success&&n.success.call(o,m,o),n.then&&n.then.call(o,o)}else{a==o.componentId&&(a+=".css");const m=C.store("settings")?C.store("settings").fetchOptions:void 0;fetch(C.getResourcePath(a),m).then(w=>w.text()).then(w=>{o.style(w),n.success&&n.success.call(o,w,o)}).catch(w=>{d.e(w,o),n.error&&n.error.call(o,w,o)}).finally(()=>{n.then&&n.then.call(o,o)})}}return this},i.prototype.loadHtml=function(n){const o=this;let a=o.componentId;n||(n={}),n.path&&(a=n.path);let h=C.store("zuix.inlineViews");if(null==h&&(h=[],C.store("zuix.inlineViews",h)),null!=h[a])o.view(h[a]),n.success&&n.success.call(o,h[a],o),n.then&&n.then.call(o,o);else{const p=r().find(c.dom.queryAttribute(l.zView,a,c.dom.cssNot(l.zComponent)));if(p.length()){let m,w=p.get(0);if("template"===w.tagName.toLowerCase()?(w=w.cloneNode(!0),m=w.content.querySelectorAll("style")):m=w.querySelectorAll('style[media="#"]'),m)for(const E of m)E.setAttribute("media","#"+o.componentId);h[a]=w.innerHTML,o.view()===w||null!=o.container()&&o.container().contains(w)?(p.attr(l.zView,null),o._view=w,this.trigger(this,"view:process",r(o.view()))):o.view(w.innerHTML),n.success&&n.success.call(o,w.innerHTML,o),n.then&&n.then.call(o,o)}else{const m=n.cext?n.cext:".html";a==o.componentId&&(a+=m);const w=C.store("settings")?C.store("settings").fetchOptions:void 0;fetch(C.getResourcePath(a),w).then(E=>E.text()).then(E=>{o.view(E),n.success&&n.success.call(o,E,o)}).catch(E=>{d.e(E,o),n.error&&n.error.call(o,E,o)}).finally(()=>{n.then&&n.then.call(o,o)})}}return this},i.prototype.viewToModel=function(){d.t(this.componentId,"view:model","timer:vm:start");const n={},o=r(this._view);return o.find(c.dom.queryAttribute(l.zField)).each((a,h,p)=>{if(!C.isDirectComponentElement(o,p))return!0;const m=p.attr(l.zField);n[m]=h}),this._model=C.observable(n).subscribe(this._modelListener).proxy,d.t(this.componentId,"view:model","timer:vm:stop"),this},i.prototype.modelToView=function(){if(d.t(this.componentId,"model:view","timer:mv:start"),null!=this._view){this["#"]={};const n=r(this._view);n.find(c.dom.queryAttribute(l.zField)).each((o,a,h)=>{if(!C.isDirectComponentElement(n,h)&&"true"!==h.attr("inherits"))return!0;let p=h.attr(l.zBind);if(null==p&&(p=h.attr(l.zField)),"function"==typeof this._model)e(this,n,h,this._model,p);else{let m=c.propertyFromPath(this._model,p);const w=c.hyphensToCamelCase(p),E=c.propertyFromPath(this._model,w);null==m&&null!=E&&(p=w,m=c.propertyFromPath(this._model,m)),"function"==typeof m?e(this,n,h,m,p):null!=m&&v(a,m)}}),n.find(c.dom.queryAttribute(l.zField)).each((o,a,h)=>{if(!C.isDirectComponentElement(n,h)&&"true"!==h.attr("inherits"))return!0;let p=h.attr(l.zBind);null==p&&(p=h.attr(l.zField));try{const m=c.hyphensToCamelCase(p);Function("function testName(){ const "+m+' = "test"; }'),this["#"][m]=this.field(p)}catch{}})}return d.t(this.componentId,"model:view","timer:mv:stop"),this},i.prototype.getCssId=function(){let n="";return"string"==typeof this._options.css&&(n="_"+this.contextId),l.cssIdPrefix+y[this.componentId]+n},Object.defineProperty(i.prototype,"path",{get:function(){const n=this.componentId,o=n.lastIndexOf("/");return o<0?n:n.substring(0,o+1)}}),Object.defineProperty(i.prototype,"name",{get:function(){const n=this.componentId,o=n.lastIndexOf("/");return o<0?n:n.substring(o+1)}}),Object.defineProperty(i.prototype,"$",{get:function(){return this._c&&this._c.view()}}),H.exports=i},211:function(H,z,g){"use strict";const f=g(541);a.prototype.componentize=function(A){return o?(r().one("componentize:step",()=>requestAnimationFrame(()=>{o=!1,n.componentize(A)})),this):(o=!0,n.trigger(this,"componentize:begin"),n.$().trigger("componentize:begin"),n.resolveImplicitLoad(A),null==(x=A)&&(x=document),c.indexOf(x)||c.push(x),p(A),this);var x},a.prototype.applyOptions=function(A,x){return S(A,x),this},a.prototype.loadInline=function(A,x){return m(A,x),this},a.prototype.resolvePath=function(A){return w(A)},a.prototype.willLoadMore=function(){return _.length>0||c.length>0},a.prototype.lazyLoad=function(A,x){return h(A,x)},a.prototype.dequeue=function(A){for(let x=0;x<_.length;x++)if(_[x].element===A){_.splice(x,1);break}return this},a.prototype.setHost=function(A){return n=A,this},H.exports=function(){return new a};const d=g(381)("ComponentContext.js"),l=g(826),r=g(917),c=[],_=[],C={},y=[],I=[],v=function(){return{element:null,priority:0,visible:!0,lazy:!1}};let e=!1,i=1,n=null,o=!1;function a(){}function h(A,x){return null!=A&&(e=!A),null!=x&&(i=x),!e}function p(A){!function(N){null==N&&c.length>0&&(N=c.unshift()),N instanceof r.ZxQuery&&(N=N.get());const T=l.dom.queryAttribute(f.zLoad,null,l.dom.cssNot(f.zLoaded));let q=r(N).find(T);q=Array.prototype.slice.call(q._selection);const $=[];for(let X=0;X<q.length;X++){const M=q[X];let F=+l.dom.getAttribute(M,f.zPriority);isNaN(F)&&(F=0);let ce=0,re=M.parentNode,K=!1;for(;null!=re&&re!==document;){if(ce++,null!=l.dom.getAttribute(re,f.zView)){K=!0;break}re=re.parentNode}if(!K){const se=new v;se.element=M,se.priority=F+1e3*ce,$.push(se)}}let le=0;for(let X=0;X<$.length;X++){let M=!1;for(let F=0;F<_.length;F++)if($[X].element===_[F].element){M=!0;break}if(!M){const F=$[X].element;S(F,l.dom.getAttribute(F,f.zOptions)),_.push($[X]),le++}}C.queued===_.length&&C.added===le||(d.t("componentize:count",_.length,le),C.queued=_.length,C.added=le),0===le||0===c.length&&0===_.length?(n.trigger(this,"componentize:end"),n.$().trigger("componentize:end")):n.$().trigger("componentize:step"),o=!1}(A);const x=function(){_.sort(function(q,$){return q.priority-$.priority});let N=null,T=_.length>0?_.shift():null;for(;null!=T&&null!=T.element;){const q=T.element,$=D(q);if(h()&&$?(T.lazy=!0,T.visible=r.getPosition(q,i).visible):(T.lazy=!1,T.visible=!0),null!=q&&T.visible){N={item:T,cancelable:T.lazy};break}if(!(_.length>0))break;T=_.shift()}return N}();if(null!=x&&null!=x.item&&null!=x.item.element){const N=x.item.element;r(N).one("component:loaded",()=>n.componentize(N)),m(N)}}function m(A,x){const N=r(A);if(null!=N.attr(f.zLoaded)||N.parent("pre,code").length())return!1;N.attr(f.zLoaded,"true");let T=N.attr(f.zOptions);T?(T=E(A,T),T=l.cloneObject(T)||{}):T=null!=N.get().__zuix_loadOptions?N.get().__zuix_loadOptions:{},x&&Object.assign(T,x);const q=N.attr(f.zContext);if(q){const K=n.context(q);null!==K&&(T=K.options()),T.contextId=q}T.view||N.isEmpty()?T.view||T.container||!N.isEmpty()||null!=N.attr(f.resourceType.controller)||(T.container=A):(T.view=A,T.viewDeferred=!0);let $=N.attr(f.zLoad);if(!$)return!1;if($=w($),N.attr(f.zLoad,$),"default"!==$&&null!==N.attr(f.resourceType.view))N.attr(f.zComponent,null),T.controller||(T.controller=function(){});else if("default"===$||null!==N.attr(f.resourceType.controller)){T.view=T.view||A,T.viewDeferred=!0,T.html=T.html||!1,T.css=T.css||!1;const K=N.children('[media="#"]');K.length()&&K.parent().get()===N.get()&&(!1===T.css&&(T.css=""),K.each((se,he,ae)=>T.css+="\n"+T.css+ae.html())),"default"===$&&(T.controller=T.controller||function(){})}const le=[":on",":model",":behavior",":ready"];Array.from(N.get().attributes).filter(K=>K.nodeName.startsWith(":")&&!le.find(se=>K.nodeName.startsWith(se))).forEach(K=>{const se=K.nodeName.match(/[^:]+/g);let he=T;se.forEach((ae,t)=>{if(ae=l.hyphensToCamelCase(ae),t===se.length-1){let u;try{u=Function("return "+K.nodeValue+";")()}catch(s){d.warn(se.join(":"),ae,K.nodeValue,s)}return he[ae]=u}he=he[ae]=he[ae]||{}})});const X=N.attr(f.zOn);X&&(T.on=E(A,X));const M=N.attr(f.zBehavior);M&&(T.behavior=E(A,M));const F=N.attr(f.zModel);F&&(T.model=E(A,F));const ce=N.attr(f.zUsing);ce&&(T.using=ce);const re=N.attr(f.zPriority);return re&&(T.priority=+re),n.load($,T),!0}function w(A){if("@"===A[0]){let x=n.store("config"),N="https://zuixjs.github.io/zkit/lib/1.2/";if(null!=x&&null!=x[location.host]&&(x=x[location.host]),null!=x)switch(typeof x.libraryPath){case"object":r.each(x.libraryPath,(T,q)=>!A.startsWith(T+"/")||(N=q,!1));break;case"string":N=x.libraryPath}A=N+A.substring(A.indexOf("/")+1)}return A}function E(A,x){if("string"==typeof x){const N=r(A).parent(l.dom.queryAttribute(f.zLoad));if(N.get()){const T=n.context(N);try{return T._refreshHandler.runScriptlet(A,`[${x}][0]`)}catch{}}x=x.trim().startsWith("{")&&x.trim().endsWith("}")?Function("return "+x)():l.propertyFromPath(window,x)}return x}function S(A,x){x=E(A,x),A&&x&&(x.componentId&&l.dom.setAttribute(A,f.zLoad,x.componentId.toString().toLowerCase()),x.contextId&&l.dom.setAttribute(A,f.zContext,x.contextId.toString().toLowerCase()),x.lazyLoad&&l.dom.setAttribute(A,f.zLazy,x.lazyLoad.toString().toLowerCase()))}function P(A){const x={element:A};return y.push(x),x}function D(A){const x=r(A),N=x.parent(`[${f.zLazy}]`);if("false"===x.attr(f.zLazy)||N.length()&&"false"===N.attr(f.zLazy))return!1;if(function(T){for(let q=0;q<y.length;q++){const $=y[q];if($.element===T)return $}return null}(A))return!0;{const T=l.dom.queryAttribute(f.zLazy,"scroll")+","+l.dom.queryAttribute(f.zLazy,"true"),q=x.parent(),$=q.length()?q.parent(T).get():null;if($){P(A);let le=function(X){for(let M=0;M<I.length;M++){const F=I[M];if(F.element===X)return F}return null}($);return le||(le=function(X){const M={element:X};return I.push(M),M}($),"scroll"===l.dom.getAttribute($,f.zLazy)&&function(X,M){let F,ce=(new Date).getTime();r(M===document.body?window:M).on("scroll",()=>{const re=(new Date).getTime();re-ce>150?(ce=re,p(M)):(clearTimeout(F),F=setTimeout(()=>p(M),100))})}(0,$)),!0}if("true"===x.attr(f.zLazy))return P(A),!0}return!1}},561:function(H,z,g){"use strict";const f=g(917),d=g(826);function l(r){const c=this;Object.defineProperty(c,"context",{enumerable:!0,writable:!0,value:r}),Object.defineProperty(c,"_view",{enumerable:!1,writable:!0,value:null}),Object.defineProperty(c,"_childNodes",{enumerable:!1,writable:!0,value:[]}),Object.defineProperty(c,"saveView",{enumerable:!1,writable:!0,value:()=>{c.restoreView(),c.view().children().each((I,v)=>c._childNodes.push(v))}}),Object.defineProperty(c,"restoreView",{enumerable:!1,writable:!0,value:()=>{c._childNodes.length>0&&(c.view().html(""),f.each(c._childNodes,(I,v)=>c.view().append(v)),c._childNodes.length=0)}}),Object.defineProperty(c,"on",{enumerable:!1,writable:!0}),c.on=(I,v)=>"object"==typeof I&&null==v?(f.each(I,(e,i)=>c.on(e,i)),c):(c.addEvent(I,v),c),Object.defineProperty(c,"mapEvent",{enumerable:!1,writable:!0}),c.mapEvent=(I,v,e,i)=>{null!=v&&(v.off(e,c.eventRouter),I.push({target:v,eventPath:e,handler:i}),v.on(e,c.eventRouter))},Object.defineProperty(c,"eventRouter",{enumerable:!1,writable:!0}),c.eventRouter=I=>{const v=c.view();r._behaviorMap.concat(r._eventMap).forEach(e=>{e.eventPath===I.type&&e.handler&&e.handler.call(v,I,I.detail,v)})};const _=r.options();let C=null;if(null!=_.on&&f.each(_.on,(I,v)=>I.split(/[\s|,]+/g).map(e=>c.addEvent(e,v))),null!=_.behavior)for(const I in _.behavior)_.behavior.hasOwnProperty(I)&&(C=_.behavior[I],I.split(/[\s|,]+/g).map(v=>c.addEvent(v,C)));try{if("function"==typeof(y=r.controller())&&/^\s*class\s+/.test(y.toString())){const I=new(r.controller().bind(c,c));r.controller(I)}else r.controller().call(c,c)}catch(I){console.log(I)}var y;return Object.assign(r.controller(),_.controllerMembers),c}l.prototype.addEvent=function(r,c){return this.mapEvent(this.context._eventMap,this.view(),r,c),this},l.prototype.addBehavior=function(r,c){return this.mapEvent(this.context._behaviorMap,this.view(),r,c),this},l.prototype.addTransition=function(r,c,_){const C=this.context.getCssId();return this.context.$.attr(C,""),f.addTransition(this.context.componentId+"@"+C,"[z-component]["+C+"]",r,c,_,d.dom.getShadowRoot(this.context.view())),this},l.prototype.field=function(r){return this.context.field(r)},l.prototype.clearCache=function(){this.context._fieldCache={}},l.prototype.view=function(r){const c=this;if((c.context.view()||c._view!==c.context.view())&&(c.clearCache(),c._view=f(c.context.view()),c._view.field=_=>c.context.field(_)),r)return c._view.find(r);if(c._view)return c._view;throw new Error("Not attached to a view yet.")},l.prototype.model=function(r){return r?(this.context.model(r),this):this.context.model()},l.prototype.options=function(){return this.context.options()},l.prototype.trigger=function(r,c,_){if(_){let C=this.context.container();C||(C=this.context.view()),C&&f(C).trigger(r,c),this.context.trigger(this.context,r,c)}else this.view().trigger(r,c);return this},l.prototype.expose=function(r,c){const _=(C,y)=>{y&&(y.get||y.set)?Object.defineProperty(this.context,C,y):void 0===y?delete this.context[C]:this.context[C]=y};return"object"==typeof r?f.each(r,(C,y)=>_(C,y)):_(r,c),this},l.prototype.declare=function(r,c){const _=(C,y)=>{y&&(y.get||y.set)?Object.defineProperty(this.context._,C,y):void 0===y?delete this.context._[C]:this.context._[C]=y};return"object"==typeof r?f.each(r,(C,y)=>_(C,y)):_(r,c),this},l.prototype.loadCss=function(r){return this.context.loadCss(r),this},l.prototype.loadHtml=function(r){return this.saveView(),this.context.loadHtml(r),this},l.prototype.log={},l.prototype.for=function(r){return this},H.exports=l},871:function(H){"use strict";function z(g){g.init=this.onInit.bind(this),g.create=this.onCreate.bind(this),g.dispose=this.onDispose.bind(this),g.update=(f,d,l,r,c)=>this.onUpdate.call(this,f,d,l,r,c),Object.assign(this,g),Object.assign(this,Object.getPrototypeOf(g))}z.prototype.onInit=function(){},z.prototype.onCreate=function(){},z.prototype.onDispose=function(){},z.prototype.onUpdate=function(g,f,d,l,r){},H.exports=z},541:function(H){const z=Object.freeze({zModel:"z-model",zBind:"z-bind",zBehavior:"z-behavior",zOn:"z-on",zComponent:"z-component",zContext:"z-context",zField:"z-field",zLazy:"z-lazy",zLoad:"z-load",zLoaded:"z-loaded",zOptions:"z-options",zUsing:"z-using",zPriority:"z-priority",zView:"z-view",zuixLoaded:"zuix-loaded",zReady:"z-ready",resourceType:{view:"view",controller:"ctrl",file:"file"},cssIdPrefix:"z-css-"});H.exports=z},643:function(H,z,g){"use strict";const f=g(541),d=g(826);function l(r){const c=this._context=r;this._mutationObserver=null,this._mutationCallback=(_,C)=>{const y=d.dom.queryAttribute(f.zComponent),I=v=>{for(let e=0;e<v.attributes.length;e++)if(v.attributes[e].name.startsWith(f.cssIdPrefix))return!0};for(const v of _)"childList"===v.type&&v.addedNodes.forEach(e=>{if(e instanceof Element){let i=zuix.$(e).parent(y);if(null==i.get())return;if(!1!==c.options().css&&null==i.attr(f.resourceType.controller))i.get()!==c._container&&i.get()!==c._view||I(e)||d.dom.setAttribute(e,c.getCssId(),"");else{let n=0;do{n++,i=i.parent(y)}while(n<10&&null!=i.get()&&null!=i.attr(f.resourceType.controller));i.get()&&(i=zuix.context(i),I(e)||(d.dom.setAttribute(e,i.getCssId(),""),zuix.$(e).find("*").each(function(){this.attr(i.getCssId(),"")})))}}})}}l.prototype.start=function(){this.stop(),this._mutationObserver=new MutationObserver(this._mutationCallback),this._mutationObserver.observe(this._context._view,{attributes:!1,childList:!0,subtree:!0})},l.prototype.stop=function(){null!=this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null)},H.exports=l},459:function(H,z,g){"use strict";const f=g(381),d=f("Zuix.js"),l=g(826),r=g(917),c=g(65),_=g(265),C=g(622),y=g(561),I=g(871),v=g(398),e=g(211)(),i=g(541);g(854);const n=[],o=[],a={},h=[],p={},m=[],w=function(t){return h[t]||(h[t]=new c(function(u,s,L){F(u,s,L)})),h[t]};let E=[],S=0,P=!1;const D=new _,A=[l.dom.queryAttribute(i.zContext),l.dom.queryAttribute(i.zOptions),l.dom.queryAttribute(i.zModel+",:model"),l.dom.queryAttribute(i.zOn+",:on"),l.dom.queryAttribute(i.zBehavior+",:behavior"),l.dom.queryAttribute(i.zUsing+",:using"),l.dom.queryAttribute(i.zReady)];function x(){const t=this;return e.setHost(t),this._store={settings:{fetchOptions:{}},config:{title:"zUIx.js app",baseUrl:"/",resourcePath:"/app/",libraryPath:{"@lib":"https://zuixjs.github.io/zkit/lib/1.2/","@hgui":"https://genielabs.github.io/homegenie-web-ui/app/","@cdnjs":"https://cdnjs.cloudflare.com/ajax/libs/"},"zuixjs.github.io":{resourcePath:"/zuixjs/app",libraryPath:{"@lib":"https://zuixjs.github.io/zkit/lib/1.2/","@hgui":"https://genielabs.github.io/homegenie-web-ui/app/","@cdnjs":"https://cdnjs.cloudflare.com/ajax/libs/"}}},handlers:{sync:function(u,s,L,O){const R=s.attr("@sync")||s.attr(i.zField);s.on("keyup change keydown",function(){const j=s.get();let b=s.value();"checkbox"!==j.type&&"radio"!==j.type||j.checked||L[R]!=b||(b=""),L[R]!==b&&(L[R]=b)}),L[R]=s.value()},get:function(u,s,L,O){let R=s.attr("@get");const j=R.split(" as ");R=j[0];const b=j[1]||"result",k=t.runScriptlet(R,s,u);k!==L&&(R="const "+b+" = args; "+s.attr("@set"),t.runScriptlet(R,s,u,k),L=k),O(L)},set:function(u,s,L,O){s.attr("@get")||(t.runScriptlet(s.attr("@set"),s,u),O(L))},"disable-if":function(u,s,L,O){const R=s.attr("@disable-if"),j=t.runScriptlet(R,s,u);j!==L&&(s.attr({disabled:j?"":null}),L=j),O(L)},"hide-if":function(u,s,L,O){const R=s.attr("@hide-if"),j=t.runScriptlet(R,s,u);j!==L&&(s.css(j?{visibility:"hidden"}:{visibility:"visible"}),L=j),O(L)},if:function(u,s,L,O){const R=s.attr("@if"),j=t.runScriptlet(R,s,u);j!==L&&(t.runScriptlet(s.attr(j?"@then":"@else"),s,u),L=j),O(L)}}},this._fieldCache=[],this}function N(t){return"function"!=typeof t.for&&(t.for=function(u){return a[u]=t,t}),t}function T(t,u,s){s||(s=this),null==s._fieldCache&&(s._fieldCache={});let L=null;return void 0===s._fieldCache[t]?(L=r(u).find(l.dom.queryAttribute(i.zField,t)+",["+CSS.escape("#"+t)+"]"),L.length()&&(s._fieldCache[t]=L,1!==L.length()||L.field||(L.field=O=>T(O,L,L)))):L=s._fieldCache[t],L}function q(t,u){t=e.resolvePath(t);let s=null;return u?(u.componentId=t,u.contextId?(s=M(u.contextId),null!==s?s.options(u):s=X(u)):(!1===u&&(u={}),u.contextId="zuix-ctx-"+ ++S,s=X(u))):s=new C(zuix,u={},F),s.componentId!=t&&(s.componentId=t),u.ready&&(s.ready=u.ready),u.loaded&&(s.loaded=u.loaded),u.error&&(s.error=u.error),null==m[t]?(m[t]=!0,$(s,u)):(null==p[t]&&(p[t]=[]),p[t].push({c:s,o:u}),s)}function $(t,u){let s=ce(t.componentId);null!==s&&null==u.controller&&null==t.controller()&&(t.controller(s.controller),d.t(t.componentId+":js","component:cached:js"));const L=function(O){!1!==u.css&&"string"!=typeof u.css?(O[t.componentId].step(t.componentId+":css"),t.loadCss({success:R=>s.css=R,error:R=>d.e(R,t),then:()=>re(t,O[t.componentId])})):re(t,O[t.componentId])};if(!u.view){if(null!==s&&(null!=s.view&&(t.view(s.view),d.t(t.componentId+":html","component:cached:html")),!1!==u.css&&"string"!=typeof u.css)){u.css=!1;const O=l.dom.getShadowRoot(t.view());s.css_applied&&!O||(s.css_applied=!0,t.style(s.css),d.t(t.componentId+":css","component:cached:css"))}return t.view()?w("resource-loader").queue(t.componentId+":css",function(){m[t.componentId]=this,L(m)},u.priority):w("resource-loader").queue(t.componentId+":html",function(){m[t.componentId]=this,t.loadHtml({cext:u.cext,success:O=>{null==s&&(s=K(t)),s.view=O,delete s.controller,L(m)},error:O=>{d.e(O,t),u.error&&t.error.call(t,O,t)}})},u.priority),t}return t.view(u.view),null==t.controller()?w("resource-loader").queue(t.componentId+":js",function(){m[t.componentId]=this,re(t,m[t.componentId])},n.length):re(t),t}function le(t){const u=s=>{if(s instanceof Element){const L=s;s=zuix.context(L),e.dequeue(L)}s&&s.dispose&&s.dispose()};t&&t.each?t.each((s,L)=>u(L)):u(t)}function X(t){const u=new C(zuix,t,F);return n.push(u),u}function M(t,u){let s=null;if(t instanceof r.ZxQuery&&(t=t.get()),t instanceof Element&&t.getAttribute("shadow")&&(t=t.getAttribute("shadow")),r.each(n,(L,O)=>{if(t===O.contextId||t instanceof Element&&(O.view()===t||O.container()===t))return s=O,!1}),u){const L=O=>setTimeout(()=>{u.call(O,O)},10);if(s&&s.isReady)L(s);else if("string"==typeof t){const O=r.find(l.dom.queryAttribute(i.zContext,t));O.length()&&M(O,R=>R?L(R):M(t,u))}else t instanceof Element&&zuix.$(t).one("component:ready",function(){s=n.find(O=>O.view()===t||O.container()===t),L(s)})}return s}function F(t,u,s){o[u]&&o[u].call(t,s,t)}function ce(t){let u=null;return r.each(E,(s,L)=>{if(L.componentId===t)return u=L,!1}),u}function re(t,u){if(void 0===t.options().controller&&null===t.controller())if(d.d(t.componentId,"controller:load"),u&&u.step(t.componentId+":js"),a[t.componentId])t.controller(a[t.componentId]),se(t,u);else{const s=function(L){const O=t.componentId+".js",R=zuix.store("settings")?zuix.store("settings").fetchOptions:void 0;fetch(zuix.getResourcePath(O),R).then(j=>j.text()).then(j=>{try{t.controller(j,{error:k=>{t.error&&t.error.call(t,k,t)},componentId:t.componentId});let b=ce(t.componentId);null==b&&(b={componentId:t.componentId,controller:t.controller()},E.push(b))}catch(b){d.e(new Error,b,j,t),t.error&&t.error.call(t,b,t)}}).catch(j=>{d.e(j,new Error,t),t.error&&t.error.call(t,j,t)}).finally(()=>{se(t,L)})};u?s(u):w("resource-loader").queue(t.componentId+":js",function(){s(m[t.componentId]=this)},t.options().priority)}else se(t,u)}function K(t){const u=t.view().innerHTML,s=r.wrapElement("div",u),L={componentId:t.componentId,view:s.innerHTML,css:"string"==typeof t.options().css?null:t._css,controller:t.controller()};return E.push(L),d.t(t.componentId,"bundle:added"),L}function se(t,u){if(m[t.componentId]=null,t.view()){let s=ce(t.componentId);t.options().viewDeferred?d.d(t.componentId,"component:deferred:load"):null===s?s=K(t):null==s.controller&&(s.controller=t.controller());const L=r(t.view());if(null==L.attr(i.zContext)&&L.attr(i.zContext,t.contextId),d.d(t.componentId,"component:initializing"),t.controller()){const O=t._c=new y(t);O.log=f(t.contextId);const R=()=>{u&&d.d(t.componentId,"controller:create:deferred"),function(j){const b=j.context;d.t(b.componentId,"controller:init","timer:init:start"),b.isReady=!0;const k=j.view();if(j.create)try{j.create()}catch(U){U&&b.options().error&&b.options().error.call(b,U,b)}j.trigger("view:create",k),(()=>{if(b.loaded&&b.loaded.call(b,b),null!=p[b.componentId]){const U=p[b.componentId];let ee;for(p[b.componentId]=null;null!=U&&null!=(ee=U.shift());)$(ee.c,ee.o)}k.find(l.dom.queryAttribute(i.zLoaded,"false",l.dom.cssNot(i.zComponent))).each(function(U,ee){this.attr(i.zLoaded,null)}),setTimeout(()=>zuix.componentize(k))})(),j.trigger("component:loaded",k,!0);const me=()=>{const U=[":on",":model",":behavior",":ready"];Array.from(k.get().attributes).filter(ee=>U.find(oe=>ee.nodeName.startsWith(oe))).forEach(ee=>{let oe=ee.nodeValue;if(!oe)return;const V=ee.nodeName,te=V.lastIndexOf(":")<2;let J;oe.match(/^[^<>()\[\]\-+\s!?/&\xa3"=^#@:;,.*|]+$/g)||(oe=`(event, args) => { ${ee.nodeValue} }`),(V.startsWith(":model")||te)&&(oe=`(${ee.nodeValue})`);try{J=zuix.runScriptlet(oe,k,k,null)}catch(W){d.warn(V,ee.nodeValue,W)}if(null!=J)if(":ready"!==V){if(V.startsWith(":on")||V.startsWith(":behavior")){if(te)return void j.on(J);const W=V.substring(V.indexOf(":",1)+1);V.startsWith(":behavior")?j.addBehavior(W,J):j.addEvent(W,J)}else if(V.startsWith(":model")){if(te)return void b.model(J);const W=V.match(/[^:]+/g).splice(1);let B=b.model();W.forEach((Q,G)=>{if(Q=l.hyphensToCamelCase(Q),G===W.length-1)return B[Q]=J;B=B[Q]=B[Q]||{}})}}else b.ready=J}),zuix.context(k)===b&&k.find("*").each((ee,oe,V)=>{var te,J;he(k,V)&&(te=b,J=V,Array.from(J.get().attributes).forEach(W=>{let B=W.nodeValue;const Q=W.nodeName;if(B&&Q.startsWith("(")&&Q.endsWith(")")){B.match(/^[^<>()\[\]\-+\s!?/&\xa3"=^#@:;,.*|]+$/g)||(B=`(event, args) => { ${W.nodeValue} }`);const G=Q.substring(1,Q.length-1),de=zuix.runScriptlet(B,J,k,null);J===k?te.on(G,de):J.on(G,de)}}))}),b.ready&&b.ready.call(b,b),j.trigger("component:ready",k,!0)},ye=zuix.store("handlers"),Y=b.contextId,Z=k.find(':scope > [type="jscript"]');Z._selection=Z._selection.concat(r(document).find('[type="jscript"][for="'+Y+'"]')._selection),b.handlers.refresh=(U,ee,oe,V)=>{if(!b._disposed){if(b._dependencyResolver&&!b._dependencyResolver.resolved())return b.$.hasClass("not-ready")||b.$.addClass("not-ready"),V(oe);null!=b._dependencyResolver&&!1!==b._dependencyResolver&&(b.$.removeClass("not-ready"),b._dependencyResolver=!1);let te=b._refreshHandler;if(!te){const J="return (function($this, context, args){const $ = context.$; const model = context.model(); ";let W='"use strict"; expose = {}; function refresh() {}; function ready() { return true; }; ';b["#"]&&r.each(b["#"],(ue,pe)=>{const ie=l.hyphensToCamelCase(ue);W+="const $"+ie+' = context["#"].'+ie+";",W+="const "+ie+" = $"+ie+".get();",W+="let _"+ie+" = null; zuix.context("+ie+", function(c) { _"+ie+" = c; });"}),b._&&r.each(b._,(ue,pe)=>{W+="const "+ue+' = context["_"].'+ue+";"}),W+="function runScriptlet($el, s, args) { let result; try { result = eval(\"const $this = $el; const _this = zuix.context(this); \" + s) } catch (e) { if (!$el._lastError || $el._lastError.toString() !== e.toString()) { console.error('SCRIPTLET ERROR', e, '\\n', context, this, '\\n', s); if (context.error) context.error(e); } $el._lastError = e; }; return result };";const B=[];let Q="";B.push(Y),Z.each((ue,pe,ie)=>{zuix.context(U)===b&&(null!=ie.attr("using")&&B.push(...ie.attr("using").split(/[;|,]+/g)),ie.parent().get()!==U.get()&&ie.attr("for")!==Y||(Q+=ie.html()+";",pe.remove()))}),null!=b.options().using&&B.push(...b.options().using.split(/[;|,]+/g));let G="";if(B.length>0){let ue="";if(B.forEach(pe=>{const ie=pe.split(" as ");pe=ie[0];const fe=l.hyphensToCamelCase(ie[1])||l.hyphensToCamelCase(pe),ge="let "+fe+' = window["'+fe+'"]; if ('+fe+' == null) { const tc = zuix.context("'+pe+'"';G+=!1!==b._dependencyResolver?ge+", (ctx) => "+fe+" = ctx);":ge+");",G+="if (tc && tc.isReady) "+fe+" = tc; }",ue+=fe+" && "}),!1!==b._dependencyResolver&&G.length>0&&(G+="const resolved = function() { return "+ue+"true; };",b._dependencyResolver=Function(J+G+"; return { resolved }; }).call(this.$el.get(), this.$el, this.ctx, this.args);").call({$el:ee,ctx:b,args:null}),!b._dependencyResolver.resolved()&&V))return V(oe)}W+=G+Q,te=b._refreshHandler=Function(J+";"+W+"; return { refresh, runScriptlet, ready, expose }; }).call(this.$el.get(), this.$el, this.ctx, this.args);").call({$el:ee,ctx:b,args:null}),te.expose&&Object.assign(b,te.expose)}!b._dependencyResolver&&te.refresh&&b._refreshHandler.refresh(),V&&V(oe)}};const ne=[];if(k.find("*").each((U,ee,oe)=>{he(k,oe)&&zuix.context(k)===b&&ne.push(...((V,te)=>{const J=te.get(),W=[];for(let B=0;B<J.attributes.length;B++){const Q=J.attributes.item(B).name;if(Q.length>1&&Q.startsWith("@")){const G=Q.substring(1).split(":")[0];let de=b.handlers?b.handlers[G]:null;if(de||(de=ye[G]),de){const ue=zuix.activeRefresh(V,te,j.model(),(pe,ie,fe,ge)=>{te.attr(i.zLoad)&&"true"!==te.attr(i.zReady)?null==zuix.context(te)&&ge(fe):de.call(J,V,te,fe,ge,Q)});W.push(ue)}}}return W})(k,oe))}),ne.length>0||Z.length()){const U=Z.length()?Z.attr("refreshdelay"):null,ee=Z.length()?Z.attr("handlersdelay"):null;b.handlers.refresh.call(k.get(),k,k,j.model(),(oe,V)=>{zuix.activeRefresh(k,k,oe,(te,J,W,B)=>{if(b._refreshHandler&&!b._refreshHandler.initialized){let Q=!0;ne.forEach(G=>{if(null!=G.$element.attr(i.zLoad))return Q=null!=zuix.context(G.$element)&&zuix.context(G.$element).isReady,Q}),Q&&!0===b.isReady&&b._refreshHandler.ready()?(b._refreshHandler.initialized=!0,ne.forEach(G=>G.start(ee)),b.$.removeClass("not-ready"),me()):b.$.hasClass("not-ready")||b.$.addClass("not-ready"),B(W,U,!0)}else b.handlers.refresh.call(k.get(),k,k,W,B)}).start(U)})}else b.handlers.refresh.call(k.get(),k,k),me();d.t(b.componentId,"controller:init","timer:init:stop"),d.i(b.componentId,"component:loaded",Y)}(O),u&&u.end(),L.attr(i.zReady,"true")};if(O.init)try{O.init()}catch(j){return R(),void(j&&t.options().error&&t.options().error.call(t,j,t))}if(O.view()&&null==O.view().attr(i.zComponent)&&O.view().attr(i.zComponent,""),null==t.model()&&t.view()&&t.viewToModel(),t.options().viewDeferred){t.options().viewDeferred=!1,O.saveView(),null===s&&"default"!==t.componentId&&(s={componentId:t.componentId,controller:t.controller()},E.push(s),d.t(t.componentId,"bundle:added"),d.d(t.componentId,"component:deferred:load"));const j=()=>{!1!==t.options().html?("string"==typeof t.options().html&&(s.view=t.options().html),null==s.view?t.loadHtml({cext:t.options().cext,success:b=>{s.view=b,d.d(t.componentId,"component:deferred:html")},error:b=>{d.e(b,t),t.options().error&&t.options().error.call(t,b,t)},then:()=>{d.d(t.componentId,"controller:create:2"),R()}}):(t.view(s.view),R())):(d.d(t.componentId,"controller:create:3"),R())};!1!==t.options().css&&"string"!=typeof t.options().css?null==s.css?t.loadCss({success:b=>{s.css=b,d.d(t.componentId,"component:deferred:css")},then:()=>j()}):(t.style(s.css),j()):("string"==typeof t.options().css&&t.style(t.options().css),j())}else d.d(t.componentId,"controller:create:1"),R()}else d.w(t.componentId,"component:controller:undefined")}else d.e(t.componentId,"component:view:undefined")}function he(t,u){const s=[...A,l.dom.queryAttribute(i.zLoad)].join(",");return u.parent("pre,code,"+s).get()===t.get()}function ae(t,u){let s=L=>{};if("string"==typeof t)try{const L=Function(l.normalizeControllerCode(t))();if("function"!=typeof L)throw new Error('Unexpected controller type: "'+typeof L+'"');s=L}catch(L){u&&"function"==typeof u.error&&u.error(L),d.e(this,L,t)}return s}x.prototype.field=function(t,u,s){return T.call(this,t,u,s)},x.prototype.load=function(t,u){return q.call(this,t,u)},x.prototype.unload=function(t){return le(t),this},x.prototype.loadComponent=function(t,u,s,L){return R=u,j=s,b=L,le(O=r(O=t)),O.each((k,me,ye)=>function(Y){if(Y.attr(i.zLoad,R),j&&Y.attr(j,""),b&&b.lazyLoad&&"true"===b.lazyLoad.toString()||"true"===Y.attr(i.zLazy))return b&&(Y.get().__zuix_loadOptions=b),!1;let Z=Y.get().shadowRoot;if(null==Z&&b&&b.container instanceof ShadowRoot?(Z=b.container,delete b.container):Z&&b&&delete b.container,Z){const ne=document.createElement("div");Array.from(Y.get().attributes).forEach(U=>{U.nodeName.match(/^[(#@)]/)||(ne.setAttribute(U.nodeName,U.nodeValue),Y.attr(U.nodeName,null))}),setTimeout(()=>{for(;Y.get().firstChild;)ne.appendChild(Y.get().firstChild);Z.appendChild(ne),zuix.context(ne,U=>{Y.attr("shadow",U.contextId)}),e.loadInline(ne,b)})}else e.loadInline(Y,b)}(ye)),this;var O,R,j,b},x.prototype.controller=function(t,u){return"string"==typeof t&&(u.componentId&&(t+='\n//# sourceURL="'+u.componentId+'.js"\n'),t=ae(t,u)),N.call(this,t)},x.prototype.context=function(t,u){return M.call(this,t,u)},x.prototype.trigger=function(t,u,s){return F(t,u,s),this},x.prototype.hook=function(t,u){var s,L;return s=t,(L=u)?(o[s]&&d.w("Hook override",'"'+s+'"',"OLD",o[s],"NEW",L),o[s]=L):delete o[s],this},x.prototype.using=function(t,u,s,L){u=e.resolvePath(u);const O=(t=t.toLowerCase())+"-"+u.hashCode();return w("resource-loader").queue(O,function(){const R=m[O]=this;if("component"===t){const j=M(O);null==j?zuix.load(u,{contextId:O,view:"",priority:-10,ready:b=>{R.end(),s&&s(u,b)},error:()=>{R.end(),s&&s(u,null)}}):(R.end(),s&&s(u,j))}else{const j="style"===t;if(0===r.find(t+'[id="'+O+'"]').length()){const b=(j&&L?l.dom.getShadowRoot(L.view()):null)||document.head||document.getElementsByTagName("head")[0],k=document.createElement(t);j?(k.type="text/css",k.id=O):(k.type="text/javascript",k.id=O),b.appendChild(k);const me=Z=>{if(j)k.styleSheet?k.styleSheet.cssText=Z:k.appendChild(document.createTextNode(Z));else{const ne=window.define;window.define=void 0,k.innerText?k.innerText=Z:k.appendChild(document.createTextNode(Z)),window.define=ne}R.end(),s&&s(u,O)},ye="_res/"+t+"/"+O,Y=ce(ye);if(null!=Y)me(j?Y.css:Y.controller);else{const Z=zuix.store("settings")?zuix.store("settings").fetchOptions:void 0;fetch(u,Z).then(ne=>ne.text()).then(ne=>{E.push({componentId:ye,view:null,css:j?ne:null,controller:j?null:ne,using:u}),me(ne)}).catch(()=>{b.removeChild(k),R.end(),s&&s(u,null)})}}else R.end(),s&&s(u,O)}}),this},x.prototype.lazyLoad=function(t,u){return null==t?e.lazyLoad():(e.lazyLoad(t,u),this)},x.prototype.componentize=function(t){return!1===t?P=!0:!0===t&&(P=!1,t=null),P||e.componentize(t),this},x.prototype.store=function(t,u){return null!=u&&(this._store[t]=u),this._store[t]},x.prototype.getResourcePath=t=>function(u){let s=zuix.store("config");return null!=s&&null!=s[location.host]&&(s=s[location.host]),!(u=e.resolvePath(u)).startsWith("/")&&u.indexOf("://")<0&&(u=(null!=s&&null!=s.resourcePath?s.resourcePath:"")+u),u}(t),x.prototype.observable=t=>D.observable(t),x.prototype.activeRefresh=(t,u,s,L)=>new v(t,u,s,L),x.prototype.bundle=function(t,u){if(!t)return E;if(t&&"boolean"==typeof t){d.t("bundle:start");const s=e.lazyLoad();if(e.lazyLoad(!1),e.componentize(),u){const L=O=>{setTimeout(()=>{e.willLoadMore()?(d.t("bundle:wait"),O(O)):(d.t("bundle:end"),e.lazyLoad(s),u())},1e3)};L(L)}}else{for(let s=0;s<t.length;s++)t[s].css_applied&&delete t[s].css_applied,"string"==typeof t[s].controller&&(t[s].controller=ae(t[s].controller));E=t}return this},x.prototype.$=r,x.prototype.TaskQueue=c,x.prototype.ObjectObserver=_,x.prototype.ZxQuery=r.ZxQuery,x.prototype.setComponentCache=t=>{E=t},x.prototype.dumpCache=()=>E,x.prototype.dumpContexts=()=>n,x.prototype.isDirectComponentElement=(t,u)=>he(t,u),x.prototype.resolveImplicitLoad=t=>{const u=l.dom.cssNot(i.zLoad).get(),s=l.dom.cssNot(i.zReady).get(),L=A.map(O=>O+u+s).join(",");r(t).find(L).each((O,R,j)=>{-1===R.tagName.indexOf("-")&&null==j.attr(i.zLoad)&&j.attr(i.zLoad,"default").attr(i.zLazy,"false")})},x.prototype.runScriptlet=(t,u,s,L)=>{const O=zuix.context(s);if(O&&O._refreshHandler&&u.get().isConnected)return O._refreshHandler.runScriptlet.call(u.get(),u,t,L)},x.prototype.utils=l,H.exports=()=>{if(window&&window.zuix)return window.zuix;const t=new x;if(window&&document){window.zuix=t,t.$.appendCss('[z-view]{display:none;}[type="jscript"],[media*="#"]{display:none;}[z-load][z-ready=true].visible-on-ready{opacity:1}[z-load]:not([z-ready=true]).visible-on-ready{opacity:0;visibility:hidden}',null,"zuix-global");const s=()=>t.componentize();window.ControllerInstance=I,window.addEventListener("load",s),window.addEventListener("resize",s),window.addEventListener("pageshow",s),"loading"!==document.readyState&&s()}return d.monitor(function(u,s){t.monitor&&t.monitor(u,Array.prototype.slice.call(s))}),t}}},be={},ve=function H(z){var g=be[z];if(void 0!==g)return g.exports;var f=be[z]={exports:{}};return _e[z](f,f.exports,H),f.exports}(693);zuix=ve}();